<!-- include the partial at the top of the file-->
<%- include('../partials/head')%>
<%- include('../partials/navbar')%>
<div class="container bg-light main-bg d-flex align-items-center overflow-auto">
    <div class="container">
    <h1 class="text-center">New Health Report</h1>
    <form action="/lakeReports" method="post" class="text-center needs-validation" name="submit" novalidate>
        <div class="form-group">
            <!-- date input, sent under 'date' label-->
            <label class='form-label' for="date_generated">Date: </label>
            <input type="text" id="date_generated" placeholder="year-mo-dy" name="lakeReport[date_generated]" class="form-control" required>
            <!-- Option to have, can also give negative feedback to suggest formatting or smth -->
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="status">Status: </label>
            <input type="text" id="status" placeholder="Status" name="lakeReport[status]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="summary">Summary: </label>
            <input type="text" id="summary" placeholder="Summary" name="lakeReport[summary]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="Level_of_Concern">Level of Concern: </label>
            <input type="text" id="level_of_concern" placeholder="level of concern" name="lakeReport[level_of_concern]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="perc_shore_devd">Perc Shore Devd: </label>
            <input type="text" id="perc_shore_devd" placeholder="perc shore devd" name="lakeReport[perc_shore_devd]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_temp">Average Temperature: </label>
            <input type="text" id="avg_temp" placeholder="Temperature Value" name="lakeReport[avg_temp]" class="form-control" required>
        </div>
        <!-- TODO: Also, are we storing this in the model? where is this going -->
        <div class="form-group">
            <label class='form-label' for="Metric">Celsius: </label>
            <input type="radio" id="celsius" name="lakeReport[Metric]" value="c" class="form-control">
            <label class='form-label' for="Metric">Fahrenheit: </label>
            <input type="radio" id="fahrenheit" name="lakeReport[Metric]" value="f" class="form-control">
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_do_conc">Average Do Conc: </label>
            <input type="text" id="avg_do_conc" placeholder="Dissolved Oxygen" name="lakeReport[avg_do_conc]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_secchi_depth">Average Secchi Depth: </label>
            <input type="text" id="avg_secchi_depth" placeholder="Water Clarity" name="lakeReport[avg_secchi_depth]" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="Avg_Phosph">Average Phospherous: </label>
            <input type="text" id="avg_phosph" placeholder="Phosphorus" name="lakeReport[avg_phosph]" class="form-control" required>
        </div>
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm">
                <button type="submit" class="btn btn-outline-primary btn-block">Submit</button>
            </div>
            <div class="col-sm-3"></div>
        </div>
    </form>
    <br> <!-- TODO: REMOVE THIS, FORMAT PROPERLY -->
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm">
            <a href="/lakeReports" class="btn btn-outline-secondary btn-block">All Reports</a>
        </div>
        <div class="col-sm-2"></div>
    </div>
<!-- include footer partial -->
<%- include('../partials/foot')%>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
        'use strict';

        const forms = document.querySelectorAll('.needs-validation')

        Array.from(forms).forEach(function(form) {
            form.addEventListener('submit', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })();
</script>
