<!-- include the partial at the top of the file-->
<%- include('../partials/head')%>
<%- include('../partials/navbar')%>
<div class="container bg-light main-bg d-flex align-items-center overflow-auto">
    <div class="container">
        <%- include('../partials/flash') %>
        <h1 class="text-center">New Health Report</h1>
    <form action="/lakeReports" method="post" class="text-center needs-validation" name="submit" novalidate>
        <div class="form-group">
            <!-- date input, sent under 'date' label-->
            <label class='form-label' for="date_generated">Date Recorded: </label>
            <input type="date" id="date_generated" placeholder="yyyy-mm-dd" name="date_generated" class="form-control" required>
            <!-- Option to have, can also give negative feedback to suggest formatting or smth -->
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="notes">Notes: </label>
            <input type="text" id="notes" placeholder="Additional Notes" name="notes" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="perc_shore_devd">Perc Shore Devd: </label>
            <input type="text" id="perc_shore_devd" placeholder="perc shore devd" name="perc_shore_devd" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_temp">Temperature: </label>
            <input type="number" id="avg_temp" placeholder="Temperature Value" name="avg_temp" class="form-control" required>
        </div>
        <div class="form-group">
            <label class="radio-inline">
                <input type="radio" id="celsius" name="Metric" value="c" class="form-control" checked>Celsius
            </label>
            <label class="radio-inline">
                <input type="radio" id="fahrenheit" name="Imperial" value="f" class="form-control">Fahrenheit
            </label>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_do_conc">Do Conc: </label>
            <input type="number" id="avg_do_conc" placeholder="Dissolved Oxygen" name="avg_do_conc" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_secchi_depth">Secchi Depth: </label>
            <input type="number" id="avg_secchi_depth" placeholder="Water Clarity" name="avg_secchi_depth" class="form-control" required>
        </div>
        <div class="form-group">
            <!-- health input, sent under 'health' label-->
            <label class='form-label' for="avg_phosph">Phosphorus: </label>
            <input type="number" id="avg_phosph" placeholder="Phosphorus in PPB" name="avg_phosph" class="form-control" required>
        </div>
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm">
                <button type="submit" class="btn btn-outline-primary btn-block">Submit</button>
            </div>
            <div class="col-sm-3"></div>
        </div>
    </form>
    <br> <!-- TODO: REMOVE THIS, FORMAT PROPERLY -->
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm">
            <a href="/lakeReports" class="btn btn-outline-secondary btn-block">All Reports</a>
        </div>
        <div class="col-sm-2"></div>
    </div>
<!-- include footer partial -->
<%- include('../partials/foot')%>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
        'use strict';

        const forms = document.querySelectorAll('.needs-validation')

        Array.from(forms).forEach(function(form) {
            form.addEventListener('submit', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })

        const fishCount = 0;

    })();

    function incFish(fishCount) {
        fishCount += 1;
    }
</script>
